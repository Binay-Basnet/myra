mutation login($data: LoginInput!) {
  auth {
    login(data: $data) {
      recordId
      record {
        token {
          access
          refresh
        }
        data {
          user {
            id
            objState
            username
            firstName
            middleName
            lastName
            role
            profilePic
            branch {
              id
              name
            }
            organization {
              basicDetails {
                name
                logo
              }
              contactDetails {
                website
                phoneNumber
                email
              }
              address {
                district
                wardNo
                state
                locality
                localGovernment
                houseNo
              }
              registrationDetails {
                regdNo
                panOrVat
              }
            }
          }
          preference {
            language
            languageCode
            date
          }
        }
      }
      error {
        ...MutationError
      }
    }
  }
}

mutation refresh($refreshToken: String!) {
  auth {
    token(refreshToken: $refreshToken) {
      token {
        access
        refresh
      }
      error {
        ...MutationError
      }
    }
  }
}

mutation resetPassword($userId: String!, $newPassword: String!) {
  user {
    resetPassword(data: { userId: $userId, newPassword: $newPassword }) {
      recordId
      error {
        ...MutationError
      }
    }
  }
}

mutation setRecoveryPassword($email: String!, $url: String!) {
  user {
    passwordRecovery {
      sendRecoveryEmail(data: { email: $email, url: $url }) {
        recordID
        error {
          ...MutationError
        }
      }
    }
  }
}
