query getLoanProductList($paginate: Pagination, $filter: LoanProductSearchFilter) {
  settings {
    general {
      loanProducts {
        list(paginate: $paginate, filter: $filter) {
          totalCount
          pageInfo {
            hasNextPage
            hasPreviousPage
            startCursor
            endCursor
          }
          edges {
            node {
              id
              objState
              createdBy {
                id
                name
                username
                userType
              }
              createdDate
              modifiedBy {
                id
                name
                username
                userType
              }
              productName
              productCodeString
              productCode {
                prefix
                initialNo
              }
              productType
              productSubType
              interest {
                minRate
                maxRate
                defaultRate
                ceoAuthority
                boardAuthority
              }
            }
          }
          totalCount
        }
      }
    }
  }
}

query getLoanProductEditData($id: ID!) {
  settings {
    general {
      loanProducts {
        formState(id: $id) {
          data {
            id
            objState
            createdAt
            modifiedAt
            productName
            productType
            productSubType
            productNature
            productCode {
              prefix
              initialNo
              noOfDigits
            }
            description
            typeOfMember
            criteria
            minAge
            maxAge
            genderId
            maritalStatusId
            educationQualification
            ethnicity
            occupation
            foreignEmployment
            natureOfBusinessInstitution
            natureOFBusinessCoop
            cooperativeType
            isTenureApplicable
            tenureUnit
            minTenureUnitNumber
            maxTenureUnitNumber
            minimumLoanAmount
            maxLoanAmount
            repaymentScheme
            allowPartialInstallment
            # installmentFrequency
            isMonthlyInstallmentCompulsory
            interestMethod
            isPenaltyApplicable
            penaltyType
            penaltyDayAfterInstallmentDate
            penaltyRate
            penaltyAmount
            isRebateApplicable
            rebate {
              dayBeforeInstallmentDate
              rebateRate
              rebateAmount
              rebateLedgerMapping
            }
            principalMaxGraceNumber
            interestMaxGraceNumber
            interest {
              minRate
              maxRate
              defaultRate
              ceoAuthority
              boardAuthority
            }
            updateInterest
            waiveInterest
            loanProcessingCharge {
              serviceName
              ledgerName
              amount
            }
            isInsuranceApplicable
            insuranceType {
              type
              amount
              rate
            }
            ledgerMapping {
              principal
              interestAccuredDaily
              interestIncome
            }
            isStaffProduct
            supportMultipleAccounts
            loanScheduleChangeOverride
            requiredDocuments
            isCollateralRequired
            allowGurantee
            maxPercentOfGurantee
            collateralTypes
            collateralValue {
              type
              minFMV
              maxFMV
              minDV
              maxDV
              minValue
              maxValue
            }
            isPrematurePenaltyApplicable
            prematurePenaltySetup {
              penaltyDateType
              noOfDays
              penaltyLedgerMapping
              penaltyAmount
              penaltyRate
            }
          }
        }
      }
    }
  }
}

query getLoanProductDetail($id: ID!) {
  settings {
    general {
      loanProducts {
        getProductDetail(id: $id) {
          data {
            id
            noOfaccount
            noOfInactiveAccounts
            noOfMember
            objState
            createdAt
            modifiedAt
            productName
            productType
            productSubType
            productNature
            productCode {
              prefix
              initialNo
              noOfDigits
            }
            description
            typeOfMember
            criteria
            minAge
            maxAge
            genderId
            maritalStatusId
            educationQualification
            ethnicity
            occupation
            foreignEmployment
            natureOfBusinessInstitution
            natureOFBusinessCoop
            cooperativeType
            isTenureApplicable
            tenureUnit
            minTenureUnitNumber
            maxTenureUnitNumber
            minimumLoanAmount
            maxLoanAmount
            repaymentScheme
            allowPartialInstallment
            # installmentFrequency
            isMonthlyInstallmentCompulsory
            interestMethod
            isPenaltyApplicable
            #savingCharge
            penalty {
              penaltyType
              penaltyDayAfterInstallmentDate
              penaltyRate
              penaltyAmount
            }
            isRebateApplicable
            rebate {
              dayBeforeInstallmentDate
              rebateRate
              rebateAmount
              rebateLedgerMapping
              noOfInstallment
            }
            principalMaxGraceNumber
            interestMaxGraceNumber
            interest {
              minRate
              maxRate
              defaultRate
              ceoAuthority
              boardAuthority
              changeMin
              changeMax
            }
            updateInterest
            waiveInterest
            loanProcessingCharge {
              serviceName
              ledgerName
              amount
            }
            isInsuranceApplicable
            insuranceType {
              type
              amount
              rate
            }
            ledgerMapping {
              principal
              interestAccuredDaily
              interestIncome
            }
            isStaffProduct
            supportMultipleAccounts
            loanScheduleChangeOverride
            requiredDocuments
            isCollateralRequired
            allowGurantee
            maxPercentOfGurantee
            collateralTypes
            collateralValue {
              type
              minFMV
              maxFMV
              minDV
              maxDV
              minValue
              maxValue
            }
            isPrematurePenaltyApplicable
            prematurePenaltySetup {
              penaltyDateType
              noOfDays
              penaltyLedgerMapping
              penaltyAmount
              penaltyRate
            }
            loanType
          }
        }
      }
    }
  }
}

query getLoanAccountList($paginate: Pagination, $filter: Filter) {
  settings {
    general {
      loanProducts {
        getLoanAccountlist(paginate: $paginate, filter: $filter) {
          totalCount
          pageInfo {
            hasNextPage
            hasPreviousPage
            startCursor
            endCursor
          }
          edges {
            node {
              id
              objState
              approvedDate
              member {
                code
                name
              }
              productType
              productSubType {
                id
                productSubType
                productTypeID
              }
              LoanAccountName
              appliedLoanAmount
              approvedDate
            }
          }
        }
      }
    }
  }
}

query getLoanProductCriteria($productId: ID!) {
  settings {
    general {
      loanProducts {
        getProductCriteria(productId: $productId) {
          data {
            gender
            minAge
            maxAge
            ethnicity
            educationQualification
            maritalStatus
            foreignEmployment
            occupation
            institutionType
            cooperativeUnion
            cooperativeType
          }
        }
      }
    }
  }
}

query getLoanProductInterestRateList($productId: ID!) {
  settings {
    general {
      loanProducts {
        listProductInterestRates(productId: $productId) {
          data {
            id
            rate
            effectiveDate
            createdAt
          }
        }
      }
    }
  }
}

query getLoanProductInterestRateDetail($id: ID!, $productId: ID!) {
  settings {
    general {
      loanProducts {
        getProductInterestRate(id: $id, productId: $productId) {
          data {
            id
            rate
            effectiveDate
            fileUploads {
              identifier
              url
            }
            note
            createdAt
          }
        }
      }
    }
  }
}

query getLoanProductPenaltyUpdateList($productId: ID!) {
  settings {
    general {
      loanProducts {
        listPenaltyCharge(productId: $productId) {
          data {
            payload {
              penaltyRate
              penaltyAmount
            }
            additionalData {
              id
              createdAt
              effectiveDate
            }
          }
        }
      }
    }
  }
}

query getLoanProductPenaltyChargeDetail($id: ID!) {
  settings {
    general {
      loanProducts {
        getPenaltyCharge(id: $id) {
          data {
            payload {
              penaltyRate
              penaltyAmount
              dayAfterInstallmentDate
            }
            additionalData {
              id
              createdAt
              effectiveDate
              fileUploads {
                identifier
                url
              }
              notes
            }
          }
        }
      }
    }
  }
}

query getLoanProductProcessingChargesList($productId: ID!) {
  settings {
    general {
      loanProducts {
        listProcessingCharge(productId: $productId) {
          data {
            payload {
              serviceName
              ledgerName
              amount
              percentage
            }
            additionalData {
              id
              createdAt
              effectiveDate
              fileUploads {
                identifier
                url
              }
              notes
            }
          }
        }
      }
    }
  }
}

query getLoanProductProcessingChargeDetail($chargeId: ID!) {
  settings {
    general {
      loanProducts {
        getProcessingCharge(id: $chargeId) {
          data {
            payload {
              serviceName
              ledgerName
              amount
              percentage
            }
            additionalData {
              id
              createdAt
              effectiveDate
              fileUploads {
                identifier
                url
              }
              notes
            }
          }
        }
      }
    }
  }
}
