query getAccountList($transactionPagination: Pagination) {
  eBanking(source: EBANKING) {
    account {
      list {
        totalBalance
        accounts {
          id
          name
          productName
          accountNumber
          isDefault
          balance
          interestRate
        }
        recentTransactions(paginate: $transactionPagination) {
          edges {
            cursor
            node {
              id
              accountId
              name
              date
              month
              transactionDirection
              amount
            }
          }
          pageInfo {
            ...Pagination
          }
        }
      }
    }
  }
}

query getAccountSummary {
  eBanking(source: EBANKING) {
    account {
      summary {
        totalSaving
        totalLoan
      }
    }
  }
}

query getTransactionLists($filter: EbankingTransactionFilter, $pagination: Pagination) {
  eBanking(source: EBANKING) {
    account {
      list {
        accounts {
          id
          name
          accountNumber
        }
        recentTransactions(filter: $filter, paginate: $pagination) {
          edges {
            node {
              id
              accountId
              name
              date
              month
              transactionDirection
              amount
            }
          }
          pageInfo {
            endCursor
            startCursor
            hasNextPage
            hasPreviousPage
          }
        }
      }
    }
  }
}

query getAccountDetails($id: ID!, $transactionPagination: Pagination) {
  eBanking(source: EBANKING) {
    account {
      get(id: $id) {
        data {
          id
          productId
          name
          accountNumber
          isDefault
          balance
          interestRate
          accountType
          accountSubType
          interestBooked
          interestEarned
          subscribedDate
          history {
            id
            balance
            date
          }
          transactions(paginate: $transactionPagination) {
            edges {
              node {
                id
                accountId
                name
                date
                month
                transactionDirection
                amount
              }
            }
            pageInfo {
              ...Pagination
            }
          }
        }
      }
    }
  }
}

query getEbankingLoanAccounts {
  eBanking(source: EBANKING) {
    loanAccount {
      list {
        totalBalance
        accounts {
          id
          name
          productName
          accountNumber
          isDefault
          balance
          interestRate
        }
      }
    }
  }
}

query getEbankLoanAccountDetails($id: ID!, $transactionPagination: Pagination) {
  eBanking(source: EBANKING) {
    loanAccount {
      get(id: $id) {
        data {
          id
          productId
          name
          accountNumber
          isDefault
          balance
          interestRate
          accountType
          accountSubType
          interestBooked
          interestEarned
          subscribedDate
          history {
            id
            balance
            date
          }
          transactions(paginate: $transactionPagination) {
            edges {
              node {
                id
                accountId
                name
                date
                month
                transactionDirection
                amount
              }
            }
            pageInfo {
              ...Pagination
            }
          }
        }
      }
    }
  }
}

query getTotalExpense {
  eBanking(source: EBANKING) {
    account {
      list {
        recentTransactions(paginate: {after: "", first: 1}){
          summary {
            expensesThisMonth
          }
        }
      }
    }
  }
}
