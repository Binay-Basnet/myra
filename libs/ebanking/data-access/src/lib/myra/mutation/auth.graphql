mutation signUp($mobileNo: String!) {
  eBanking(source: EBANKING) {
    auth(type: EBANKING) {
      signUp(mobileNo: $mobileNo) {
        error {
          ...MutationError
        }
        recordId
      }
    }
  }
}

mutation verifyOTP($data: EbankingOtpInput!) {
  eBanking(source: EBANKING) {
    auth(type: EBANKING) {
      verifyOtp(data: $data) {
        error {
          ...MutationError
        }
        success
      }
    }
  }
}

# mutation setPassword($data: EbankingPasswordInput!, $userId: ID!) {
#   eBanking(source: EBANKING) {
#     auth(type: EBANKING) {
#       setPassword(data: $data, userID: $userId) {
#         error {
#           ...MutationError
#         }
#         recordId
#       }
#     }
#   }
# }

mutation eBankingLogin($data: EbankingLoginInput!) {
  eBanking(source: EBANKING) {
    auth(type: EBANKING) {
      login(data: $data) {
        recordId
        record {
          data {
            id
            cooperatives {
              id
              name
              logoUrl
              mobileNo
            }
            dob
            mobile
            name
          }
          token {
            access
            refresh
          }
        }
        error {
          ...MutationError
        }
      }
    }
  }
}

mutation checkAccount($id: ID!, $mobileNumber: String!, $pin: Int!) {
  eBanking(source: EBANKING) {
    auth(type: EBANKING) {
      checkAccount(coopId: $id, mobileNumber: $mobileNumber, pin: $pin) {
        success
        error {
          ...MutationError
        }
      }
    }
  }
}

mutation setNewPin($data: CooperativeConnectInput) {
  eBanking(source: EBANKING) {
    auth(type: EBANKING) {
      setNewPin(data: $data) {
        record {
          name
          id
          mobile
          cooperatives {
            id
            mobileNo
          }
        }
        error {
          ...MutationError
        }
      }
    }
  }
}

mutation loginToCooperative($cooperativeId: ID!, $pinCode: String!, $mobileNumber: String!) {
  eBanking(source: EBANKING) {
    auth(type: EBANKING) {
      loginToCooperative(
        cooperativeId: $cooperativeId
        pinCode: $pinCode
        mobileNumber: $mobileNumber
      ) {
        error {
          ...MutationError
        }
        record {
          data {
            myraUserId
            cooperativeSlug
            cooperativeId
            cooperativeName
            cooperativeProvince
            cooperativeDistrict
            cooperativeWard
            cooperativeLocalGovt
            memberId
            memberName
            memberProfilePicId
            memberProfilePicUrl
            memberMobileNo
          }
          token {
            refresh
            access
          }
        }
      }
    }
  }
}

mutation resendOTP($mobile: String!, $otpFor: OtpFor!) {
  eBanking(source: EBANKING) {
    auth {
      resendOtp(mobile: $mobile, otpFor: $otpFor) {
        success
        error {
          ...MutationError
        }
      }
    }
  }
}

mutation newMembershipRequest($cooperativeId: String!, $data: MembershipRequestInput) {
  eBanking(source: EBANKING) {
    membershipRequest {
      new(data: $data, cooperativeId: $cooperativeId) {
        error {
          ...MutationError
        }
        recordId
      }
    }
  }
}
